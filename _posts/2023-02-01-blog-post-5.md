---
title: 'Rendering using Spherical Gaussians'
date: 2023-02-01
permalink: /posts/sg-render/
tags:
  - tech
---

The rendering equation, along a view-direction $o$ from camera, is defined as follows:

$$R(o) = \int_{S^2} L(i) V(i) \rho_o(i) max(0, i.n) di$$

![alt text](https://raw.githubusercontent.com/alakhag/alakhag.github.io/master/images/rendering_eqn.png "Rendering Equation")

This rendering equation gives the final rendered color for a surface point $x$, illuminated by one or more light sources.

Here, $i$ is the incident light direction.

So, $L(i)$ defines direct illumination from light, $V(i)$ determines if the visibility of the light source, $\rho_o(i)$ is the Bidirection Radial Distribution Function (BRDF) that determines the albedo, diffuse and specularity, and $i.n$ gives the cosine angle between the surface and incident light direction.

Note, in this equation, we use $max(0, i.n)$ to only sample incident lights from positive hemisphere towards the surface normal.

The rendering process can be optimized by using Spherical Gaussians (SGs) instead of the standard process of sampling the incident light directions. This is because SGs are a closed form function of the dot product of the incident light direction and the lobe orientation. This means that we can directly compute the integral in the rendering equation using the SGs. However, sampling the incident light directions is time-consuming, and we can avoid this by using SGs.

The mathematical properties of SGs are discussed in the previous [post](https://alakhag.github.io/posts/sg/).

# Rendering using SGs

